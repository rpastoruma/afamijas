<div style="margin-top: -100px;">

    <div style="display: flex; justify-content: center; margin-bottom: 2em;">
      <img src="../../../../../assets/logo.png" />
    </div>
  
    <h3 id="title" class="title">Cambio de contraseña</h3>
  
    <nb-alert *ngIf="messageError != ''" outline="danger" role="alert">
      <p class="alert-title"><b>¡Oh! ¡Vaya!</b></p>
      <ul class="alert-message-list">
        <li class="alert-message">{{ messageError }}</li>
      </ul>
    </nb-alert>
  
    <nb-alert *ngIf="messageOk != ''" outline="success" role="alert">
      <p class="alert-title"><b>¡Realizado!</b></p>
      <ul class="alert-message-list">
        <li class="alert-message">{{ messageOk }}</li>
      </ul>
    </nb-alert>
  
    <!-- Formulario de usuario + password -->
    <form  (ngSubmit)="changePass()" #form="ngForm" aria-labelledby="title">
  

  
      <div class="form-control-group">
        <label class="label" for="input-password">Nueva contraseña:</label>
        <input nbInput
               fullWidth
               [(ngModel)]="password"
               #pass="ngModel"
               name="password"
               type="password"
               id="input-password"
               required
               minlength="9"
               maxlength="100"
               >
      </div>

      <div class="form-control-group">
        <label class="label" for="input-password">Repita la nueva contraseña:</label>
        <input nbInput
        fullWidth
        [(ngModel)]="newpassword"
        #pass2="ngModel"
        name="newpassword"
        type="password"
        id="input-newpassword"
        required
        minlength="9"
        maxlength="100">  
    </div>


  
    <button nbButton
    fullWidth
    status="success"
    [disabled]="submitted || !form.valid || !isPasswordValid()"
    [class.btn-pulse]="submitted">
Cambiar contraseña
</button>
    </form>


    <div *ngIf="password && !isPasswordValid()" class="validation-message">
        La nueva contraseña debe tener al menos 9 caracteres, contener letras mayúsculas, minúsculas, números y al menos uno de los siguientes símbolos: <b>% _ $ - ! *</b>
      </div>

      <div *ngIf="newpassword && password && newpassword !== password && pass2.touched" class="validation-message">
        Las contraseñas no coinciden
      </div>
      
    

  
  </div>
  